<div class="container mb-3">
<div class="row justify-content-center">
  <div class="col-sm-8 my-3">
    <%= form_with url: ride_requests_path, method: :get, class: "d-flex" do %>
      <%= text_field_tag :query,
            params[:query],
            class: "form-control",
            placeholder: "Recherche",
            id: "search-query"
        %>
      <%= submit_tag "Rechercher", name: "", class: "btn btn-primary", id: "search-btn" %>
    <% end %>
  </div>
</div>
  <div class="cards mt-2">
  <div class="row">
    <div>
      <h2 class="display-4 text-center my-4">Toutes les demandes de voyage</h2>
      <div class="d-flex justify-content-evenly align-items-center mb-3">
        <% if current_user.sloops.exists? %>
          <%= link_to "Proposer un voyage", new_ride_path, class: "btn btn-primary" %>
        <% else %>
          <%= link_to "Enregistrer un bateau pour proposer", new_sloop_path, class: "btn btn-primary" %>
        <% end %>
      </div>
      <hr>
      <span class="mb-3 d-block">
        <% if @riderequests.empty? %>
          <em><%= " Aucun résultat pour votre recherche, consultez la carte pour voir tous les ridesrequests disponibles" %>
          </em>
          <br>
          <br>
          <%= link_to ride_requests_path do %>
            <i class="fa-solid fa-arrow-left-long"> Retrouvez toutes les demandes de voyages disponnibles</i>
          <% end %>
        <% else %>
          <span class="mb-3 d-block"><em>
            <%= "#{pluralize(@riderequests.count, @riderequests.size == 1 ? "Résultat" : "Résultats")}"  %></em>
          </span>
        <% end %>
      </span>
    </div>
    <% @riderequests.each do |riderequest| %>
      <%= render "shared/riderequestcard", riderequest: riderequest %>
    <% end %>
  </div>
</div>
</div>
